{% extends 'base.html' %}
{% import 'components.html' as components %}

{% block content %}

{% if paginated_recipes.total > 0 %}
<div id="index-banner">
<section class="container-fluid">
<div class="search-by text-center">Search By....</div>
<!--<div class="row card-panel grey-lighten-5"> -->
	<form action="{{ url_for('search') }}" method="POST" class="col s12" value="search">
		<div class="row valign-wrapper center-align">
			<div class="input-field col s12 m8">
				<i class="fas fa-search prefix light-blue-text text-darken-4"></i>
				<input type="text" name="query" id="query" minlength="3" class="validate" required>
				<label for="query">Search Recipes</label>      <!--changed value=result for variable recipes in line 15-->
			</div>
			<div class="col s12 m4">
				<!--<a href="{{ url_for('get_recipes') }}" class="red btn text-shadow">Reset</a> -->
				<button type="submit" class="light-blue darken-1 btn text-shadow">
                    <i class="fas fa-search left"></i> Search
                </button>
			</div>
		</div>
	</form>
<!--</div> -->
    
    <div id="navigation-cards" class="row">
        {% for recipe in paginated_recipes['items'] %}
        <div class="col s12 m4 l3 navigation-cards" data-date="{{recipe.due_date}}">
        <div class="card">
            <div class="card-image">
                <img src="{{recipe.image_recipe}}" width="250" height="200">
                <div class="card-title card-title-spice">
                   <span id="recipe_name" name="recipe_name" class="card-title art-deco-font">{{recipe.recipe_name}}</span>
                    <span id="race_day_name" name="race_day_name" class="card-title art-deco-font">{{recipe.race_day_name}}</span>
                </div> 
            </div>
            <div class="card-content class-size">
                <p id="description">{{recipe.description}}</p>
            </div>
            <div class="card-action">
                <a href="/recipedescription/{{recipe._id}}">See Recipe Description</a>
            </div>
        </div>    
        </div> 
        
        {% endfor %}
    </div>
</div>
<div id="see-more-meal">
    
</div>

</div>

</section>
</div>    <!---------index-banner-->

<section class="container pagination-container">
    {{ components.pagination(url_for('get_recipes'), paginated_recipes) }}
</section>
{% else %}
<h3 class="red-blue-text text-darken-4 center-align">No Results Found!</h3>
{% endif %}
{% endblock %}